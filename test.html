<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>篩選項目</title>
    <!-- 引入必要的 CSS 和 JS 库，确保 jQuery 可用 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
</head>

<body>

    <!-- 複選框用於篩選項目 -->
    <label>
        <input type="checkbox" id="filterCheckbox" /> 顯示特定項目
    </label>

    <!-- 用於顯示鏈結的表格 -->
    <table id="chain_table">
        <thead>
            <tr>
                <th>列1</th>
                <th>列2</th>
                <!-- 其他列頭... -->
            </tr>
        </thead>
        <tbody>
            <!-- 表格內容將通過 JavaScript 動態生成 -->
        </tbody>
    </table>

    <!-- 用於顯示鏈結項目的容器 -->
    <div id="chain_item" class="row">
        <!-- 鏈結項目將通過 JavaScript 動態生成 -->
    </div>

    <script>
        $(document).ready(function () {
            const apiUrl = 'your_api_url'; // 請將其替換為實際的 API URL

            // 獲取複選框
            const filterCheckbox = $('#filterCheckbox');
            sheets.forEach(function (sheet) {
                const sheetName = sheet.properties.title;
                const checkboxHtml =
                    `<label><input type="checkbox" class="filter-checkbox m-2" value="${row[2]}" checked>${row[2]}</label>`;

                filterOptions.append(checkboxHtml);
            });

            $.get(apiUrl, function (data) {
                const values = data.values;

                const dataTable = $('#chain_table tbody');
                const chainItemContainer = $('#chain_item');

                values.forEach(function (row) {
                    const tableRow = '<tr>' + row.map(col => `<td>${col}</td>`).join('') +
                        '</tr>';
                    dataTable.append(tableRow);

                    // 根據複選框的選擇狀態進行篩選
                    if (!filterCheckbox.is(':checked') || (filterCheckbox.is(':checked') && row[
                            2] === 'your_filter_condition')) {
                        const teamItemHtml = `
                        <div class="col-lg-4 col-md-6 portfolio-item ${row[2]}">
                            <div class="rounded overflow-hidden">
                                <!-- 你的現有 HTML 代碼 -->
                            </div>
                        </div>
                    `;

                        chainItemContainer.append(teamItemHtml);
                    }
                });
            });

            // 監聽複選框變化事件
            filterCheckbox.change(function () {
                // 重新加載數據以反映新的篩選條件
                chainItemContainer.empty(); // 清空原有內容
                // 重新請求數據和生成項目的邏輯，類似上面的 $.get 部分
            });
        });
    </script>

</body>

</html>